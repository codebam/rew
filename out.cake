
// entry "/home/makano/workspace/rew-rust/output.cake" 


// entry "/home/makano/workspace/rew-rust/test/external.coffee" 
// external "gaga.daga"
rew.prototype.mod.prototype.defineNew("/home/makano/workspace/rew-rust/test/external.coffee", function(globalThis){
with (globalThis) {
  const j = rew.prototype.mod.prototype.find(module,  "gaga.daga")
rew.prototype.io.prototype.out.print(j)

}
return globalThis.module.exports;
}, ["app://test.app/external"]);
rew.prototype.mod.prototype.get('/home/makano/workspace/rew-rust/test/external.coffee');

// entry "/home/makano/.rew/apps/gaga.daga/main.coffee" 

rew.prototype.mod.prototype.defineNew("/home/makano/.rew/apps/gaga.daga/main.coffee", function(globalThis){
with (globalThis) {
  const submodule = rew.prototype.mod.prototype.find(module,  "./help.coffee")
const sn = rew.prototype.mod.prototype.find(module,  "./src/main.coffee")
module.exports = {
	isMain: true,
	submodule,
	sn
}

}
return globalThis.module.exports;
}, ["app://gaga.daga/main"]);rew.prototype.mod.prototype.defineNew("/home/makano/.rew/apps/gaga.daga/help.coffee", function(globalThis){
with (globalThis) {
  module.exports = {
	submodule: true
}

}
return globalThis.module.exports;
}, ["app://gaga.daga/help"]);rew.prototype.mod.prototype.defineNew("/home/makano/.rew/apps/gaga.daga/src/main.coffee", function(globalThis){
with (globalThis) {
  var fgh;
module.exports.fgh =  fgh = "hello"

}
return globalThis.module.exports;
}, ["app://gaga.daga/main"]);
rew.prototype.mod.prototype.get('/home/makano/.rew/apps/gaga.daga/main.coffee');

rew.prototype.mod.prototype.get('/home/makano/workspace/rew-rust/test/external.coffee');
rew.prototype.mod.prototype.get('/home/makano/.rew/apps/gaga.daga/main.coffee');
